# name: clang-format

# on:
#     push:
#     pull_request:

# jobs:
#     clang-format:
#         runs-on: ubuntu-latest
#         permissions:
#             contents: write

#         steps:
#             - name: Checkout code
#               uses: actions/checkout@v4
#               with:
#                   ref: ${{ github.head_ref || github.ref_name }}
#                   token: ${{ secrets.GITHUB_TOKEN }}

#             - name: Install clang-format
#               run: |
#                   sudo apt-get update
#                   sudo apt-get install -y clang-format

#             - name: Run clang-format
#               run: |
#                   find . -name '*.cpp' -o -name '*.h' -o -name '*.c' -o -name '*.hpp' -o -name '*.cc' -o -name '*.cxx' \
#                     | grep -v "include/lib/json.hpp" \
#                     | xargs clang-format -i --style=file

#             - name: Commit and push changes
#               run: |
#                   git config --local user.email "github-actions[bot]@users.noreply.github.com"
#                   git config --local user.name "github-actions[bot]"

#                   if ! git diff --quiet; then
#                     git add -A
#                     git commit -m "Apply clang-format [skip ci]"
#                     git push
#                     echo "Code formatted and pushed"
#                   else
#                     echo "No formatting changes needed"
#                   fi
